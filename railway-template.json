{
  "name": "AutoMem - Persistent AI Memory",
  "description": "Graph + Vector memory system for AI agents with persistent storage and automatic backups",
  "repository": "https://github.com/verygoodplugins/automem",
  "services": [
    {
      "name": "memory-service",
      "source": {
        "repo": "https://github.com/verygoodplugins/automem",
        "branch": "main"
      },
      "builder": "DOCKERFILE",
      "healthcheck": {
        "path": "/health",
        "timeout": 100
      },
      "env": {
        "PORT": "8001",
        "FALKORDB_HOST": "${{FalkorDB.RAILWAY_PRIVATE_DOMAIN}}",
        "FALKORDB_PORT": "6379",
        "FALKORDB_PASSWORD": "${{FalkorDB.FALKOR_PASSWORD}}",
        "AUTOMEM_API_TOKEN": "${{secret()}}",
        "ADMIN_API_TOKEN": "${{secret()}}"
      }
    },
    {
      "name": "automem-mcp-sse",
      "source": {
        "repo": "https://github.com/verygoodplugins/automem",
        "branch": "main"
      },
      "builder": "NIXPACKS",
      "buildCommand": "cd mcp-sse-server && npm i",
      "startCommand": "node mcp-sse-server/server.js",
      "healthcheck": {
        "path": "/health",
        "timeout": 100
      },
      "env": {
        "PORT": "8080",
        "AUTOMEM_ENDPOINT": "http://${{memory-service.RAILWAY_PRIVATE_DOMAIN}}:8001",
        "AUTOMEM_API_TOKEN": "${{memory-service.AUTOMEM_API_TOKEN}}"
      }
    },
    {
      "name": "FalkorDB",
      "image": "falkordb/falkordb:latest",
      "volumes": [
        {
          "mountPath": "/data",
          "name": "falkordb_data"
        }
      ],
      "env": {
        "PORT": "6379",
        "FALKOR_PASSWORD": "${{secret()}}",
        "FALKOR_USERNAME": "default",
        "FALKOR_HOST": "${{RAILWAY_PRIVATE_DOMAIN}}",
        "FALKOR_PORT": "${{PORT}}",
        "FALKOR_PUBLIC_HOST": "${{RAILWAY_TCP_PROXY_DOMAIN}}",
        "FALKOR_PUBLIC_PORT": "${{RAILWAY_TCP_PROXY_PORT}}",
        "REDIS_ARGS": "--dir /data --save 60 1 --appendonly yes --appendfsync everysec"
      }
    }
  ],
  "databases": [],
  "plugins": []
}
